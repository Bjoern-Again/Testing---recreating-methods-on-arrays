<script src="../simpleTest.js"></script>
<script>

// function signature 

// arr.lastIndexOf(searchElement[, fromIndex])

// parameter lastIndexOf: array, search element, from index


// The first index of the element in the array; -1 if not found.

//expectations:

// 1. 'It should returns last index in array called by lastIndexOF'
// 2. 'It should returns -1 if index can not be found
// 3. 'If fromIndex, it should start search backwards from that index position'
// 4. 'If fromIndex negative, it is taken as the offset from the end of the array'
// 5. 'If fromIndex is greater than or equal to array.length, whole array will be searched'
// 6. 'It should return -1 on empty arrays'
// 7. 'It should skip holes'
// 8. 'If the fromIndex is 0, -1 is returned and the array will not be searched'




function lastIndexOf(array, searchElement, fromIndex) {

    var startingIndex = array.length; 

    if(arguments.length === 3) {
      startingIndex = fromIndex;
    }

    if(fromIndex >= array.length) {
      return -1;
    }

    if(fromIndex < 0) {
        startingIndex = array.length + fromIndex;
      }
    
    for(var i = startingIndex; i >= 0; i--) {
      if(searchElement === array[i]) {
        return i; 
      }
    }
return -1;
}


tests({
    'It should returns last index in array called by lastIndexOF':function () {
        var results = lastIndexOf([1, 2, 1], 1);
        eq(results, 2);
    },
    'It should returns -1 if index can not be found':function () {
        var results = lastIndexOf([1, 2, 3], 4)
        eq(results, -1)
    },
    'If fromIndex, it should start search backwards from that index position':function () {
        var results = lastIndexOf([1, 1, 2], 2, 1)
        eq(results, -1)
    },
    'If fromIndex negative, it is taken as the offset from the end of the array':function () {
        var results = lastIndexOf([1, 2, 3], 3, -2)
        eq(results, -1)
    },
    'If fromIndex is greater than or equal to array.length, whole array will be searched':function () {
        var results = lastIndexOf([1, 2, 3], 2, 5)
        eq(results, -1);
    },
    'It should return -1 on empty arrays':function () {
        var results = lastIndexOf([], 3);
        eq(results, -1);
    },
    'It should skip holes':function () {
        var results = lastIndexOf([,,], 2)
        eq(results, -1)
    },
    'If the fromIndex is 0, -1 is returned and the array will not be searched':function () {
        var results = lastIndexOf([1, 2, 3], 2, 0)
        eq(results, -1);
    },

});
</script>